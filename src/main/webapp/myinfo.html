<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>BUSYBUDDY - 회원정보 수정</title>

    <link href="../resources/static/css/bootstrap.css" rel="stylesheet">
    <link href="../resources/static/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="../resources/static/css/style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
      $(document).ready(function () {
        $('#ModifyButton').on('click', function () {

          var email = $('#inputUserEmail').val();
          var nickname = $('#inputUserNickname').val();
          var password = $('#inputUserPassword').val();
          var confirmPassword = $('#inputUserConfirmPassword').val();

          // 필수 입력 사항이 입력되었는지 확인
          if (email === '' || nickname === '' || password === '' || confirmPassword === '') {
            $('#ModifyModalMessage').html('<p>입력되지 않은 내용이 있습니다. 입력 내용을 다시 확인해 주세요.</p>');
            $('#CancelButton').show();
            $('#GoTodoButton').hide();
            return;
          }

          // 비밀번호와 비밀번호 재입력이 일치하는지 확인
          if (password !== confirmPassword) {
            $('#ModifyModalMessage').html('<p>비밀번호가 일치하지 않습니다. 비밀번호를 다시 확인해 주세요.</p>');
            $('#CancelButton').show();
            $('#GoTodoButton').hide();
            return;
          }

          var passwordPattern = /^(?=.*[a-zA-Z])(?=.*[!@#$%^&*]).{8,}$/;
          if (!passwordPattern.test(password)) {
            $('#ModifyModalMessage').html('<p>비밀번호가 문법에 맞게 작성되지 않았습니다. 비밀번호를 다시 확인해 주세요.</p>');
            $('#CancelButton').show();
            $('#GoTodoButton').hide();
            return;
          }

          // 회원정보 수정 진행
          // 여기에 회원정보 수정 로직 추가하기

          // 회원정보 수정 완료 모달창
          $('#ModifyModalMessage').html('<p>회원정보 수정이 완료되었습니다.</p>');
          $('#GoTodoButton').show(); // 할일 창 가게 표시
          $('#CancelButton').hide();

          // 회원정보 수정이 성공적으로 진행되었으므로 모달의 제목을 '회원가입 완료'로 변경함
          $('#SignupModalLabel').text('회원정보 수정 완료');
        });
      });
    </script>
  </head>
  <body>

  <!-- 회원정보 수정 확인 모달 -->
  <div class="modal fade" id="confirmModifyModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog special-modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="SignupModalLabel">회원가입 확인</h4>
        </div>
        <div class="modal-body" id="ModifyModalMessage">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-theme btn-block" id="GoTodoButton" data-dismiss="modal">할 일 작성하기</button>
          <button type="button" class="btn btn-default" id="CancelButton" data-dismiss="modal">취소</button>
        </div>
      </div>
    </div>
  </div>

  <section id="container" >
      <!-- Header 시작 -->
      <header class="header black-bg">
          <div class="sidebar-toggle-box">
              <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
          </div>
          <!-- 로고 -->
          <a href="index.html" class="logo"><b>BUSYBUDDY</b></a>
          <!-- User Info and Logout -->
          <div class="top-menu">
              <ul class="nav pull-right top-menu">
                  <li><a class="logout" href="login.html"><i class="fa fa-cog"></i> Myinfo</a></li>
                  <li><a class="logout" href="login.html">Logout</a></li>
              </ul>
          </div>
      </header>
      <!-- Header 끝 -->

      <!-- Sidebar 시작 -->
      <aside>
          <div id="sidebar" class="nav-collapse">
              <ul class="sidebar-menu" id="nav-accordion">
                  <p class="centered"><a href="profile.html"><img src="../resources/static/img/ui-sam.jpg" class="img-circle" width="60"></a></p>
                  <h5 class="centered">Buddy</h5>
                  <li class="mt"><a href="index.html"><i class="fa fa-plus"></i><span>새 할 일 추가 (+) </span></a></li>
                  <li class="sub-menu"><a href="index.html"><i class="fa fa-bookmark"></i><span>오늘의 할 일</span></a></li>
                  <li class="sub-menu"><a href="index.html"><i class="fa fa-bookmark-o"></i><span>이번주 할 일</span></a></li>
                  <li class="sub-menu"><a href="index.html"><i class="fa fa-clock-o"></i><span>미뤄둔 할 일</span></a></li>
                  <li class="sub-menu"><a href="index.html"><i class="fa fa-check"></i><span>모든 할 일</span></a></li>
              </ul>
          </div>
      </aside>
      <!-- Sidebar 끝 -->

     <!-- Main 본문 시작 -->
      <section id="main-content">
          <section class="wrapper">
          	<h3><i class="fa fa-angle-right"></i> MY INFORMATION</h3><br>
            <div class="row mt">
              <div class="col-lg-12">
                <div class="form-panel" style="max-width: 1060px; margin: 0 auto; padding-left: 110px;">
                <h4 class="mb"><i class="fa fa-angle-right"></i> 나의 회원정보</h4><br>
                  <form class="form-horizontal style-form" method="get">

                    <!-- 아이디 입력 -->
                    <div class="form-group">
                      <label class="col-lg-2 col-sm-2 control-label">아이디</label>
                      <div class="col-lg-10">
                        <p class="form-control-static">buddy123</p>
                      </div>
                    </div>
                    <!-- 이메일 입력 -->
                    <div class="form-group">
                      <label class="col-sm-2 col-sm-2 control-label">이메일</label>
                      <div class="col-sm-7">
                        <input type="text" class="form-control" id="inputUserEmail" value="buddy123@buddy.com">
                      </div>
                    </div>
                    <!-- 닉네임 입력 -->
                    <div class="form-group">
                      <label class="col-sm-2 col-sm-2 control-label">닉네임</label>
                      <div class="col-sm-4">
                        <input type="text" class="form-control" id="inputUserNickname" value="멋쟁이개발자">
                      </div>
                    </div>
                    <!-- 비밀번호 입력 -->
                    <div class="form-group">
                      <label class="col-sm-2 col-sm-2 control-label">수정 비밀번호</label>
                      <div class="col-sm-7">
                        <input type="password" class="form-control" id="inputUserPassword"  placeholder="비밀번호 입력">
                      </div>
                      <br><br><br>
                      <!-- 비밀번호 재입력 -->
                      <label class="col-sm-2 col-sm-2 control-label">비밀번호 재입력</label>
                      <div class="col-sm-7">
                        <input type="password" class="form-control" id="inputUserConfirmPassword" placeholder="비밀번호 재입력">
                        <span class="help-block">비밀번호는 8문자 이상이어야 하며, 1개 이상의 영문자 & 1개 이상의 특수문자가 포함되어야 합니다.</span>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-sm-offset-2 col-sm-7 text-center">
                        <button type="button" class="btn btn-warning btn-lg btn-block" id="ModifyButton" data-toggle="modal" data-target="#confirmModifyModal">회원정보 수정</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
		</section>
      </section>
    <!-- Main 본문 끝 -->

      <!-- Footer 부분 시작 -->
      <footer class="site-footer">
          <div class="text-center">
              ⓒ 2024 BUSYBUDDY. All rights reserved
              <a href="blank.html#" class="go-top"><i class="fa fa-angle-up"></i></a>
          </div>
      </footer>
      <!-- Footer 부분 끝 -->
  </section>

  <!-- js 관련 내용 -->
  <script src="../resources/static/js/jquery.js"></script>
  <script src="../resources/static/js/bootstrap.min.js"></script>
  <script src="../resources/static/js/common-scripts.js"></script>
  <script src="../resources/static/js/bootstrap-switch.js"></script>

  </body>
</html>
